import{S as m,N as p,K as f,a,i as d}from"./assets/vendor-BSNYCHNc.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const c={body:document.body,reviewsList:document.querySelector(".reviews-list")};document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".marquee"),o=new IntersectionObserver((r,i)=>{r.forEach(e=>{e.isIntersecting?(e.target.classList.add("active"),e.target.querySelectorAll(".marquee-line").forEach(n=>{n.style.animationPlayState="running"})):(e.target.classList.remove("active"),e.target.querySelectorAll(".marquee-line").forEach(n=>{n.style.animationPlayState="paused"}))})},{threshold:.1});t.forEach(r=>{o.observe(r)})});new m(".swiper",{modules:[p,f],direction:"horizontal",watchOverflow:!1,speed:700,spaceBetween:16,breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2},1440:{slidesPerView:4}},keyboard:{enabled:!0},navigation:{nextEl:".reviews-btn-next",prevEl:".reviews-btn-prev"}});a.defaults.baseURL="https://portfolio-js.b.goit.study/api/reviews";async function g(){try{return(await a.get()).data}catch(t){throw console.log(t),t}}function h(t){return t.map(({_id:o,author:r,avatar_url:i,review:e})=>`
        <li class="swiper-slide reviews-list-item">
          <img
            class="reviews-item-img"
            src="${i}"
            alt="${r}"
            width="48"
            height="48"
            loading="lazy"
          />
          <h3 class="reviews-item-title section-subtitle">${r}</h3>
          <p class="reviews-item-text section-text">
           ${e}
          </p>
        </li>`).join("")}async function y(){try{const t=await g();c.reviewsList.insertAdjacentHTML("beforeend",h(t))}catch(t){console.log(t),d.error({message:"Sorry, the server is not responding!",position:"topRight",backgroundColor:"#ef4040",messageColor:"white",messageSize:"16",theme:"dark"}),c.reviewsList.insertAdjacentHTML("beforeend",'<li class="item-message"><p>Not Found</p></li>')}}y();const l=document.querySelector(".work-tgt-form"),u=document.querySelector("[data-modal]"),w=document.querySelector("[data-modal-close]"),v=document.querySelector("[data-send]");v.addEventListener("click",async t=>{t.preventDefault();const o=new FormData(l),r={email:o.get("email"),comment:o.get("comment")};try{const i=await a.post("https://portfolio-js.b.goit.study/api/requests",JSON.stringify(r),{headers:{"Content-Type":"application/json"}});i.status>=200&&i.status<300&&(u.classList.remove("is-hidden"),l.reset())}catch{d.error({title:"Error",message:"Something went wrong. Please check your input and try again.",position:"topRight"})}});w.addEventListener("click",()=>{u.classList.add("is-hidden")});
//# sourceMappingURL=commonHelpers.js.map
